#!/usr/bin/env bash

set -e

# Install packages
apt-get update -y \
	&& apt-get install -y \
	curl \
	jq \
	less \
	neovim

# Install Oh My Zsh
OMZ_REPOSITORY="https://github.com/ohmyzsh/ohmyzsh.git"
ZSH_SYNTAX_HIGHLIGHTER_REPOSITORY="https://github.com/zsh-users/zsh-syntax-highlighting.git"

apt-get update -y \
	&& apt-get install -y \
	zsh \
	&& git clone $OMZ_REPOSITORY "/root/.oh-my-zsh" \
	&& git clone $ZSH_SYNTAX_HIGHLIGHTER_REPOSITORY "/root/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting"

# Copy dotfiles
DOTFILES="/tmp/dotfiles"
cp "$DOTFILES/.tmux.conf" "/root/.tmux.conf" \
	&& cp "$DOTFILES/.zshrc" "/root/.zshrc" \
	&& rm -R $DOTFILES 

# Remove cache
rm -Rf "/var/lib/apt/lists/*"
